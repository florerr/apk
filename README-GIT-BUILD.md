# –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Å–±–æ—Ä–∫–∞ APK —á–µ—Ä–µ–∑ GitHub Actions

## –ö–∞–∫ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫—É—é —Å–±–æ—Ä–∫—É

### –®–∞–≥ 1: –ó–∞–≥—Ä—É–∑–∏—Ç–µ –∫–æ–¥ –≤ GitHub

–í–∞—à —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π: https://github.com/florerr/apk

#### –î–ª—è Windows:
–ó–∞–ø—É—Å—Ç–∏—Ç–µ —Ñ–∞–π–ª `git-setup.bat` –≤ –ø–∞–ø–∫–µ `–≥–æ—Ç–æ–≤–æ–µ`

#### –î–ª—è Linux/macOS:
```bash
chmod +x git-setup.sh
./git-setup.sh
```

#### –ò–ª–∏ –≤—Ä—É—á–Ω—É—é:
```bash
git init
git add .
git commit -m "Initial commit - Neko Puk3 Android App"
git remote add origin https://github.com/florerr/apk.git
git branch -M main
git push -u origin main
```

### –®–∞–≥ 2: GitHub Actions –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–±–µ—Ä–µ—Ç APK
–ü–æ—Å–ª–µ push –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:
1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ –≤–∫–ª–∞–¥–∫—É **Actions** –≤ –≤–∞—à–µ–º —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏
2. –í—ã —É–≤–∏–¥–∏—Ç–µ –∑–∞–ø—É—â–µ–Ω–Ω—ã–π workflow "Android CI - Build APK"
3. –î–æ–∂–¥–∏—Ç–µ—Å—å –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Å–±–æ—Ä–∫–∏ (–æ–±—ã—á–Ω–æ 5-10 –º–∏–Ω—É—Ç)
4. –ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Å–∫–∞—á–∞–π—Ç–µ APK –∏–∑ —Ä–∞–∑–¥–µ–ª–∞ **Artifacts**

## –ß—Ç–æ –¥–µ–ª–∞–µ—Ç GitHub Actions

Workflow –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
- ‚úÖ –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç Java 17
- ‚úÖ –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç Android SDK
- ‚úÖ –°–æ–±–∏—Ä–∞–µ—Ç Debug APK
- ‚úÖ –°–æ–±–∏—Ä–∞–µ—Ç Release APK
- ‚úÖ –ó–∞–≥—Ä—É–∂–∞–µ—Ç APK –∫–∞–∫ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç—ã

## –ì–¥–µ –Ω–∞–π—Ç–∏ —Å–æ–±—Ä–∞–Ω–Ω—ã–π APK

1. –û—Ç–∫—Ä–æ–π—Ç–µ –≤–∞—à —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –Ω–∞ GitHub
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ –≤–∫–ª–∞–¥–∫—É **Actions**
3. –í—ã–±–µ—Ä–∏—Ç–µ –ø–æ—Å–ª–µ–¥–Ω–∏–π —É—Å–ø–µ—à–Ω—ã–π workflow
4. –ü—Ä–æ–∫—Ä—É—Ç–∏—Ç–µ –≤–Ω–∏–∑ –¥–æ —Ä–∞–∑–¥–µ–ª–∞ **Artifacts**
5. –°–∫–∞—á–∞–π—Ç–µ:
   - `app-debug.apk` - –æ—Ç–ª–∞–¥–æ—á–Ω–∞—è –≤–µ—Ä—Å–∏—è
   - `app-release.apk` - —Ä–µ–ª–∏–∑–Ω–∞—è –≤–µ—Ä—Å–∏—è (–Ω–µ–ø–æ–¥–ø–∏—Å–∞–Ω–Ω–∞—è)

## –†—É—á–Ω–∞—è —Å–±–æ—Ä–∫–∞ —á–µ—Ä–µ–∑ Git

–ï—Å–ª–∏ —Ö–æ—Ç–∏—Ç–µ –∑–∞–ø—É—Å—Ç–∏—Ç—å —Å–±–æ—Ä–∫—É –≤—Ä—É—á–Ω—É—é:
1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ –≤–∫–ª–∞–¥–∫—É **Actions**
2. –í—ã–±–µ—Ä–∏—Ç–µ workflow "Android CI - Build APK"
3. –ù–∞–∂–º–∏—Ç–µ **Run workflow**
4. –í—ã–±–µ—Ä–∏—Ç–µ –≤–µ—Ç–∫—É –∏ –Ω–∞–∂–º–∏—Ç–µ **Run workflow**

## –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞: –°–±–æ—Ä–∫–∞ –ª–æ–∫–∞–ª—å–Ω–æ

–ï—Å–ª–∏ –Ω–µ —Ö–æ—Ç–∏—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å GitHub Actions:

```bash
cd –≥–æ—Ç–æ–≤–æ–µ/android
./gradlew assembleDebug
```

APK –±—É–¥–µ—Ç –≤: `android/app/build/outputs/apk/debug/app-debug.apk`

## –ü–æ–¥–ø–∏—Å–∞–Ω–∏–µ Release APK

–î–ª—è –ø–æ–¥–ø–∏—Å–∞–Ω–∏—è —Ä–µ–ª–∏–∑–Ω–æ–π –≤–µ—Ä—Å–∏–∏:

### 1. –°–æ–∑–¥–∞–π—Ç–µ –∫–ª—é—á –ø–æ–¥–ø–∏—Å–∏:
```bash
keytool -genkey -v -keystore my-release-key.keystore -alias my-key-alias -keyalg RSA -keysize 2048 -validity 10000
```

### 2. –î–æ–±–∞–≤—å—Ç–µ —Å–µ–∫—Ä–µ—Ç—ã –≤ GitHub:
1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **Settings ‚Üí Secrets and variables ‚Üí Actions**
2. –î–æ–±–∞–≤—å—Ç–µ —Å–µ–∫—Ä–µ—Ç—ã:
   - `KEYSTORE_FILE` - —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ keystore —Ñ–∞–π–ª–∞ (base64)
   - `KEYSTORE_PASSWORD` - –ø–∞—Ä–æ–ª—å keystore
   - `KEY_ALIAS` - –∞–ª–∏–∞—Å –∫–ª—é—á–∞
   - `KEY_PASSWORD` - –ø–∞—Ä–æ–ª—å –∫–ª—é—á–∞

### 3. –û–±–Ω–æ–≤–∏—Ç–µ workflow –¥–ª—è –ø–æ–¥–ø–∏—Å–∞–Ω–∏—è

## –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –û—à–∏–±–∫–∞: "Permission denied"
```bash
chmod +x android/gradlew
git add android/gradlew
git commit -m "Fix gradlew permissions"
git push
```

### –û—à–∏–±–∫–∞: "SDK not found"
GitHub Actions –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç SDK, –Ω–æ –µ—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–ª–∞ –æ—à–∏–±–∫–∞:
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤–µ—Ä—Å–∏—é Android SDK –≤ `android/build.gradle`
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `compileSdkVersion = 34`

### –û—à–∏–±–∫–∞ —Å–±–æ—Ä–∫–∏ Gradle
–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤–µ—Ä—Å–∏—é Gradle –≤ `android/gradle/wrapper/gradle-wrapper.properties`:
```
distributionUrl=https\://services.gradle.org/distributions/gradle-8.5-all.zip
```

## –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ GitHub Actions

‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Å–±–æ—Ä–∫–∞ –ø—Ä–∏ –∫–∞–∂–¥–æ–º push
‚úÖ –ù–µ —Ç—Ä–µ–±—É–µ—Ç –ª–æ–∫–∞–ª—å–Ω–æ–π —É—Å—Ç–∞–Ω–æ–≤–∫–∏ Android SDK
‚úÖ –ë–µ—Å–ø–ª–∞—Ç–Ω–æ –¥–ª—è –ø—É–±–ª–∏—á–Ω—ã—Ö —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–µ–≤
‚úÖ –°–±–æ—Ä–∫–∞ –Ω–∞ —á–∏—Å—Ç–æ–π —Å–∏—Å—Ç–µ–º–µ (–±–µ–∑ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤)
‚úÖ –ò—Å—Ç–æ—Ä–∏—è –≤—Å–µ—Ö —Å–±–æ—Ä–æ–∫
‚úÖ –õ–µ–≥–∫–æ —Å–∫–∞—á–∞—Ç—å APK

## –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. –°–æ–∑–¥–∞–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –Ω–∞ GitHub
2. –ó–∞–≥—Ä—É–∑–∏—Ç–µ –∫–æ–¥
3. –î–æ–∂–¥–∏—Ç–µ—Å—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π —Å–±–æ—Ä–∫–∏
4. –°–∫–∞—á–∞–π—Ç–µ APK –∏–∑ Artifacts
5. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –Ω–∞ Android —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ

–ì–æ—Ç–æ–≤–æ! üéâ